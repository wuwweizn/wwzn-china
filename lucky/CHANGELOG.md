# CHANGELOG

## [v2.15.5] - 2025-02-08
- **DDNS 批量添加支持**
  - 现已支持批量添加同类型记录，每条记录需单独成行。
  - 保存时，系统将自动解析并拆分为独立记录。
- **ACME 证书申请优化**
  - 兼容最新版 FreeSSL 接口。
  - 请注意，新版 FreeSSL 不再支持泛域名证书申请。
- **DNSPod 记录获取修复**
  - 修复了获取记录列表时可能未正确返回错误信息的问题。
- **物联平台对接优化**
  - 修复了核心代码中的已知 Bug，提高稳定性。
- **Web 服务新增 ECH 支持**
  - 设置文档：[https://lucky666.cn/docs/shareteach/share/webech](https://lucky666.cn/docs/shareteach/share/webech)
  - 实验性功能，可能随时终止且不另行通知。
  - 仅限家庭网络环境合法合规使用，禁止以下行为：
    - 商业盈利用途
    - 任何违法活动
  - 开发者不提供技术支持，相关问题请至社区讨论。

## [v2.15.3] - 2024-02-03
- **DDNS模块重大更新正式发布**
  - 架构重构实现多记录类型支持（A/AAAA/CNAME/TXT/SRV/MX/SVCB/HTTPS/NS/CAA/SPF）
  - 新增线路指定
  - 支持同名记录并发同步
  - 优化DDNS事务处理机制
- 修复其它已知bug

## [v2.14.0] - 2024-12-01
- **网络唤醒**
  - 修复了一个 bug，该 bug 导致在服务端手动添加设备记录时，客户端首次使用时连接失败。
- **IP地址库**
  - 新增对纯真新版地址库（czdb 格式）的支持。请自行通过纯真官网获取。
- **点灯物联**
  - 优化核心代码，修复小爱同学语音控制回复异常的问题。
- **DDNS**
  - 腾讯云接口不再限制最小 TTL 为 600。
  - 修复了 Dynadot 更新主域名失败的问题。
- **SSL**
  - ACME 证书同一组域名可同时使用 Let's Encrypt、ZeroSSL 和 FreeSSL 等多个机构颁发的证书，Lucky 将自动调用有效期最长的证书。
- **计划任务**
  - 点灯组件绑定数量限制放宽到10个。
- **隐私防护**
  - 增加隐私防护策略，防止fofa根据固定图标hash值搜索出lucky后台。
- **安全入口设置**
  - 增加安全入口设置检查和默认账号密码检查机制，不通过检查无法使用每个功能模块，可在设置页面禁用检查。
  - 登陆连续错误最大次数减少到30次。
  - 从2.14.0版本开始，在默认配置中，外网访问开关处于关闭状态。然而，在 lucky_base.lkcf 配置初始化后的十分钟内，系统允许外网访问。如果在这十分钟内执行了配置保存操作，则外网访问开关的设置将优先生效。如果错过了这个时间，您需要通过删除 lucky_base.lkcf 配置文件并重启 Lucky 进程的方式，使 lucky_base.lkcf 配置再次初始化。
  - 如果未设置安全入口或未修改默认账号密码，将无法使用所有功能模块。如果您了解相关风险并确实不想进行设置，请在设置面板中启用禁用安全入口设置检查和禁用默认账号密码检查开关（此两个选项会闪烁提示）。
- **其他优化**

## [v2.13.8] - 2024-11-22
- **Web服务**
  - 修复邮件发送服务对 465 端口的支持。
  - 优化邮件发送服务调试的前端界面。
  - 为了防止新手随意修改设置，子规则网络设置、自动 404 拉黑以及基本认证连续错误自动拉黑选项仅在定制模式下显示。
- **ACME**
  - 修复 FreeSSL 新版接口无法申请证书的问题。
- **计划任务**
  - 增加备份配置并发送到指定邮箱。
  - 放宽计划任务对点灯组件数量的限制至 8 个，同时支持第三方物联网平台对接 3 个设备。
- **其他优化**

## [v2.13.7] - 2024-11-17
- **DDNS**
  - 修复了在双栈任务下获取 IP 地址格式错误的问题。
- **计划任务**
  - 计划任务现支持接入点灯物联（支持语音控制和组件控制）及巴法云，当前支持三个计划任务对接物联网平台。
  - 修复了计划任务修改执行周期后未生效的问题。
  - 计划任务新增支持操作 Lucky 管理后台外网访问开关类型。
  - 通过计划任务实现点灯科技开关组件与 Lucky 管理后台外网访问开关的双向绑定。
- **Web 服务**
  - 新增邮件发送功能，详细信息请查阅官网文档：[https://6.666666.host:66/docs/modules/web#%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81](https://6.666666.host:66/docs/modules/web#%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81)
- **其它优化**

## [v2.13.5] - 2024-11-03
- 修复了 DDNS 在个别情况下 IP 地址变动后未能及时更新的问题。
- 修复了在特定架构下可能导致 UDP 端口转发崩溃的 bug。
- 网络唤醒功能增强，点灯平台新增组件绑定支持。绑定组件后，可在点灯 APP 中查询并控制开关机状态。
- 其他优化

## [v2.13.4] - 2024-10-24
- 更新 quic-go，修复上个版本中 HTTP/3 导致的崩溃问题。
- 修复 filebrowser 模块部分设置在重启后会重置的 bug。
- 其他优化。

## [v2.13.3] - 2024-10-19
- 修复已知bug。
- Web服务基本认证相关日志记录增加IP地址信息。
- Web服务新增连接管理，支持手动断开连接，一键拉黑（未开放）。

## [v2.13.2 Beta1] - 2024-10-14
- 增加一组备用 DNS 设置。
- 默认设置 DNS 全部使用公共 DoH 服务。
- 优化 DNS 切换策略。
- 记录当前正常使用的 DNS 服务器，下一次启动时将优先使用。

## [v2.13.1 Beta1] - 2024-10-13  
- Lucky底层DNS解析新增对DoH3、DoQ、DoH和DoT的支持。 格式参考：
  - `doh@https://doh.opendns.com/dns-query`
  - `doh@doh.opendns.com`
  - `doh3@223.5.5.5`
  - `dot@223.5.5.5`
  - `doq@dns.adguard.com`
- IP地址库新增对lkdb格式的支持。
- Web服务连续404错误次数统计中忽略对favicon.ico的记录。
- 修复已知Bug。
- 进行细节优化。

## [v2.13.0 Beta1] - 2024-10-04 
- **新增模块 — IP地址库**
  - 自动对相关日志信息中的IP地址数据进行富化（显示IP地址信息）。
  - Web服务文本输出类型支持查询IP信息。
  - 针对IP地址信息的关键词进行IP过滤（未开放）。
  - 详细介绍和使用方法：请参考官网文档。
- 修复Web服务中 proxy_set_header host 无效的问题。
- 修复移动端浏览器复制域名失败的问题。
- 优化UDP转发性能。
- FileBrowser同步至最新源码。
- Web服务文本输出新增变量 ClientIPInfo 和 RemoteIPInfo，支持查询IP地址信息。
- IP过滤增加子规则类型 — IP地址信息关键字匹配，黑名单（未开放）。
- Web服务底层连接增加全局黑名单过滤处理。
- IP过滤全局黑名单影响范围覆盖FTP、WebDAV及FileBrowser模块。
- 优化连接数限制策略。
- 修复网络存储中添加WebDAV存储时导致的阻塞Bug。
- 修复已知Bug。

## [v2.12.7] - 2024-09-19
- **前端**
  - 修复网络唤醒模块列表未显示设备在线状态的问题。
  - 在全局编辑、日志等对话框中增加 ESC 键关闭功能。
  - 进行其它前端细节优化。
- **优化 Docker 版 Lucky**
  - 提升Lucky后台直接升级的兼容性，理论上支持任意 Docker 环境。后台升级时，新版本的二进制文件将存放在 /goodluck/bin/ 目录中。

## [v2.12.6] - 2024-09-18
- 优化手机浏览器电脑模式编辑对话框显示。

## [v2.12.5beta1] - 2024-09-16
- 优化移动端操作体验。
- 新增模块任务/规则顺序调整功能。
- DDNS 模块修复了在 /tmp/hosts/odhcpd 不存在时出现的相关错误提示。
- Web 服务子规则管理优化,将子规则顺序调整和预选子规则显示功能移动到列表中的“子规则调整”。
- 新增 mac 平台支持,支持 mac 的 AMD/ARM 平台， darwin_arm64.tar.gz 和 x86_64.tar.gz ，mac系统体验版STUN规则限制3条。

## [v2.12.0 beta1] - 2024-09-11
- **Web 服务**
  - 服务列表增加设置子规则的显示选择操作，用户可以控制子规则是否在列表中显示。
  - 优化 Web 文件服务前端页面,修复了由于 bootstrap.min.css 加载失败而导致页面下方显示黑框的问题。
- **计划任务** 
  - 修复定时控制 STUN 规则不生效及其它已知 Bug。
- **万吉版本**
  - 增加CorazaWAF模块，用于Web服务 ,详情请查阅官网文档。
- 修复 HTTPS IP 证书选择识别问题。
- 其它优化。

## [v2.11.2] - 2024-08-20
- 修复前端日志组件多国语言转换问题。
- Web服务基本认证连续错误设置最小值限制改为0，0表示无限制。  
- 计划任务更新IP过滤子规则的时候支持将结果保存到指定文件。

## [v2.11.1 beta1] - 2024-08-18
- 同步更新：更新Filebrowser至最新源码版本。
- IP过滤规则：在Web服务主规则中新增IP过滤选项，优先级高于子规则，且不通过Header识别访问IP。
- **安全机制增强**
  - Web服务新增安全机制，若基本认证失败次数超过设定值，将自动将IP加入全局黑名单（内存子规则）。
  - 404访问限制：Web服务支持设置单个IP的连续404访问最大次数，超过限制将自动拉黑。
- 计划任务优化：新增自动更新IP过滤规则功能，具体说明请参阅官网文档。

## [v2.11.0 beta1] - 2024-08-16
- **端口转发模块** 
  - 修复已知bug。
  - 增加防止向自身转发的检测策略。
- **Web服务**
  - 适配路径反代,支持m3u8完整地址转发(试验性功能),定制模式-后端地址填\{PATH\}，勾上自动反代重定向。
- 优化前端日志相关组件显示样式。
- 优化日志核心库。
- STUN模块 修复 upnp功能已知bug。
- 重构IP过滤模块,支持批量IP添加，支持除了黑白名单以外的更多自定义规则，接口参数详细说明查阅官网文档。
- 计划任务增加对FTP服务，WebDAV服务，FileBrowser开关的支持。
- 其它若干优化。

## [v2.10.9] - 2024-07-14
- ddns 和 acme 模块增加 西部数码 支持。
- 解决了反代 lucky 管理后台启用 BasicAuth 后频繁弹出验证框的问题。
- **Web服务**
  - 在 web 服务自定义设置 中引入了 path \{reg\} 格式。（详细用法查询官网文档）。
  - 为 web 服务添加了 BasicAuth 信息存储进 Cookie 的开关，解决了部分因请求头“Authorization”冲突导致无法认证并频繁弹出认证框的问题，例如反代 alist。
  - Web 服务基本认证现在支持多用户验证。支持填写多组不同的用户登陆信息。
  - Web 服务基本认证 增加了连续登陆错误次数限制，超过限制会禁止访问，且暂时无法解除，只能重新开关一次相应子规则重置限制器。

## [v2.10.8] - 2024-07-09
- DDNS和ACME模块 新增支持deSEC、NameSilo和帝恩爱斯-DNSLA的。
- 修复了Webhook中未知变量被替换为空的问题。
- 修复了DDNS模块上一版本可能未能及时更新记录的问题。

## [v2.10.7] - 2024-07-07
- **Web服务**
  - 修复了Web服务日志输出级别的问题，现在可以通过将日志级别设为Error来减少日志输出。
  - 修复了在短时间内快速重复开关H3时可能出现的端口占用问题。
  - 修复了开启限速导致规则无法正常关闭并且列表无法显示的bug。
  - 新增了后端访问错误时规则列表闪烁提示。
  - 新增了Web服务反代缓存功能（暂不开放）。
- **DDNS模块**
  - 修复已知影响callback重复提交更新的bug。
  - DDNS模块现在兼容不带#号的\{XXX\}格式变量。
- **WebDAV**
  - 修复个别情况下无法启动的问题。

## [v2.10.6] - 2024-06-29 
- 修复已知的 bug。
- Web 服务自定义配置增加 Nginx proxy_redirect 支持。
- Web 服务反向代理增加 自动反代重定向开关。
- Web 服务增加代理服务器设置。

  > 目标地址 填https://registry-1.docker.io，定制模式打开 自动反代重定向开关，即可快速实现无缓存版docker镜像站，如有需要配置代理服务器设置使用。
  > 如果需要限制只能拉取某个镜像，增加多一条子规则。
  > 以gdy666/lucky为例，
  > 前端地址填a.com/v2/gdy666
  > 后端地址填https://registry-1.docker.io/v2/gdy666，定制模式打开 自动反代重定向开关和使用目标地址host开关。
  > 关闭主站点规则a.com 的自动反代重定向开关。

## [v2.10.5] - 2024-06-26
- **DDNS、ACME**
  - 新增支持DnsPod.COM（国际版）、火山引擎、Vercel、Dynadot。
- **Web服务**
  - 新增“关闭连接”类型。
- **DDNS列表**
  - 改善获取公网IP错误时的提示。
- **DDNS**
  - 现在支持识别用户设置的自定义多级域名后缀。
- **证书模块**
  - 前后端优化。
- 修复已知bug和其它细节优化。
- 新增了适用于 FreeBSD 系统的版本。

## [v2.10.0] - 2024-06-16
- **Web服务**
  - 增加了请求参数变量\{args\}和\{Args\},其中 \{Args\}不含前置问号。
  - 在 Web服务规则中新增了TCP连接数和流量统计功能（仅展示TCP连接相关数据），连接访问情况一目了然。
  - 增加规则限速，*单连接限速，*单IP限速，*单IP连接数限制等限制设置。（*标记功能暂不开放）。
  - 文件服务 readme.md 兼容任意大小写格式。
  - 文件服务优化文件名排序细节。
- **端口转发**
  - 优化了TCP转发资源的利用效率。
  - 修复了UDP端口转发安全检查失效的问题。
  - 调整了端口转发限制：
    - 全局端口转发数量限制为 1024。
    - 全局TCP最大并发连接数为 4096。
    - 全局UDP最大会话数为 1024。
    - 单端口TCP连接数限制为 1024。
    - 单端口UDP会话数限制为 32。
  - 单条规则支持最大端口数量128。
    - Lucky内的端口转发主要用于将公网IPv6转发到内网IPv4，或者对访问安全有需求的用户。
    - 请勿盲目使用Lucky端口转发替代路由器端口转发。
    - 应用层转发与路由器设置的转发不同，盲目使用会导致资源浪费。
    - 因此，请根据实际需要设置转发规则，避免盲目开放大范围端口转发，也不要盲目同时勾选TCP和UDP，一般情况下只需选择TCP。
    - 对于普通家庭用户而言，Lucky目前设定的转发数量完全足够。请不要将其用于商业目的或违反相关法律法规的非法活动。
- **Stun模块**
  - 进行了重构优化，完善了内置端口转发加密和限速相关设置。
  - STUN tcp内置端口转发解除16连接数限制，最大1024。
  - 注意：为了获得更佳的穿透转发性能，通常应尽量避免使用Lucky内置转发功能，尤其在使用BT/PT工具时更应如此。
- **计划任务**
  - 修复了计划任务中Windows脚本相关的问题。
  - 计划任务脚本现在支持STUN相关等全局变量。
  - 计划任务中子任务（脚本/Callweb）的执行结果现在存储于全局变量\{CRON_任务名称_N\}，其中 N 用子任务序号代替，序号从 1 开始。
- **存储模块**
  - 修复了与存储有关的本地路径挂载延迟导致的已知问题。
- **新增功能**
  - 增加了全局禁止操作防火墙开关设置功能。
  - 新增了快捷指令参数，仅当lucky进程正在运行时可用，无需重启lucky即时生效：
    - `-rCancelSafeURL` 取消安全入口。
    - `-rDisable2FA` 禁用2FA验证。
    - `-rResetUser` 重置用户账号密码为 666：666。
    - `-rRestart` 重启lucky。
    - `-rSetHttpAdminPort` 设置lucky后台HTTP访问端口。
    - `-rSetHttpsAdminPort` 设置lucky后台HTTPS访问端口。
    - `-rUnlock` 立即解锁登录限制，无需重启lucky。
- **平台支持**
  - 新增了对linux/riscv64 架构的支持。
- **其它**
  - Webhook增加 重试次数和重试时间间隔设置，接口调用失败自动重试。

## [v2.9.0] - 2024-04-28
- **stun模块**
  - 优化了 stun底层代码。
  - 修复了 在使用内置转发并且通道端口不固定时可能导致内存泄漏的情况，以及监听端口不关闭的问题。
- **端口转发**
  - 前后端重构优化。
  - 改进 UDP 转发的性能。
  - 新增支持 TCP 转发的实时流量统计。
  - TCP 转发现在支持 TLS（用于多层lucky端口转发）。
  - TCP 转发现在支持流加密（用于多层lucky端口转发）。
  - UDP 转发现在支持块加密（用于多层lucky端口转发）。
  - 规则设置新增单端口限速功能。
  - 规则设置新增单规则限速功能。（*）
  - 端口转发模块设置新增支持 对单个 IP 的 TCP 最大并发连接数限制。
  - 端口转发模块设置新增支持 对单个 IP 的 TCP 限速。(*)
  - 端口转发模块设置新增支持对单个连接的 TCP 限速。(*)
- **Web服务**
  - 修正了 Web 服务中 QUIC UDP 监听类型的问题。
- **其他**
  - 在执行自定义脚本之前，现在会停止同来源的脚本，以防止脚本无法退出。
  - 尝试修复 Docker 模式在一段时间后 CPU 占用率增高的问题。
  - 将 DDNS IP 获取方式中的自定义指令更改为自定义脚本获取方式。
  - 修复了 filebrowser 中一处无法删除用户的前端错误。
- **注意**： *标记功能暂不开放使用。

## [v2.8.3] - 2024-04-05
- **修复**
  - 修正了由于未关闭HTTP3开关而关闭TLS后导致的Web服务bug。
- **新增**
  - **ACME**
    - 新增了“忽略传播检查错误”开关，建议开启。
    - 新增了"通过DNS查询获取主域名"开关，不建议开启。
    - 自定义递归名称服务器设置。
    - ！除了“忽略传播检查错误”以外的其他开关均不建议开启。
  - **FileBrowser**
    - 同步最新源码。
  - **DDNS**
    - 添加/编辑任务时，自动对腾讯云/DnsPod类型纠错。
  - **全局设置更新**
    - 新增了“禁用同步时间”开关。
    - 新增了“禁用NTP时间同步相关日志”开关，用户可以自行管理相关日志记录。

## [v2.8.2] - 2024-03-28
- 优化2FA验证体验，现在允许与标准时间有30秒的误差。
- 修复了修改证书后导致中间证书丢失的bug。
- 修复了无法上传证书key的bug。
- 证书映射增加中间证书。

## [v2.8.1] - 2024-03-26
- **优化**
  - 安全入口修改后三秒即生效，无须重启程序。
  - 简化了ZeroSSL的使用流程，无需手动填写EAB信息，使ZeroSSL的使用变得和Let's Encrypt一样简单。
  - 2FA输入六位纯数字后自动登录。
- **修复**
  - 修复了在使用反向代理nginx参数proxy_hide_header时无效的bug。
  - 修复了web服务前端域名大小写和中文识别的问题。
  - 修复了前端回车登录无效的bug。
  - 修复了DDNS 模块框架已知的bug。
  - 修复了反代群晖webdav修改移动文件出错的bug。
- **新增**
  - Web服务现在默认支持HTTP/2。
  - Web服务新增了HTTP/3支持开关，并且可以针对单独的子规则禁用HTTP/3。

## [v2.8.0] - 2024-03-14
- Lucky 默认配置现在启用了 HTTPS 管理端口，在首次运行时可以通过 https://IP:16601 访问 Lucky 后台。
- 修复了 Web 服务中自定义 Nginx 配置格式判断错误的 bug。
- 解决了在反向代理 Nextcloud 时导致日历相关数据未显示的 bug。
- ACME 模块现在适配并支持 freessl.cn。
- 移除了 Lucky 1.X 版本配置迁移相关代码，不再支持 1.X 版本配置的自动迁移。
- 修复了 Lucky STUN模块 内置转发中一处导致奔溃的 bug。

## [v2.7.4] - 2024-03-03
- 修复了 WebDAV/Web 文件服务中前端所引用的第三方库链接问题，确保链接正常无误。
- 在升级确认对话框中增加了备份 Lucky 配置的提示，以提高用户备份数据的意识和操作便捷性。
- 现在在 Web 服务规则列表中，新增了添加和删除子规则的功能，使用户能够更灵活地管理规则。
- 对已知的 bug 进行了修复。

## [v2.7.3] - 2024-03-02
- 优化web服务规则编辑机制，避免不必要的规则端口重启。（通过反代的luck后台去修改web服务规则不再出现网络错误）。
- webdav 安全入口访问修复。
- 尝试修复macos 浏览器选取lucky升级包支持。

## [v2.7.2] - 2024-02-29
- 修复了Web服务文件服务类型存储列表显示故障，现在列表显示正常。
- 新增了 Windows 版本的系统托盘菜单，现在支持 Windows 服务启动。用户可以选择在系统启动时启动程序，或选择使用 Windows 服务方式启动。请注意，使用 Windows 服务方式启动时不支持挂载存储分区。
- 提升了前端 Web 服务规则编辑对话框的显示速度，用户编辑规则时体验更加流畅。

## [v2.7.1] - 2024-02-27
- web服务模块 重构。
- 修复已知bug。
- acme 增加CNAME验证方式支持。
- ddns增加 ODHCPD file方式获取局域网设备IPv6地址。
- FileBrowser 同步最新源码。

## [v2.6.2] - 2024-01-14
- 优化了ddns模块的任务细节操作。
- 在lucky管理密码设置中增加了二次确认项。
- 在登陆页面增加了重置密码的帮助入口。
- 在ddns和stun Webhook测试中增加了演示数据提示。
- 修复了已知的其他bug，包括处理webhook url中间带空格的转换问题。
- 强迫症细节处理，修改ddns任务后，在任务类型不改变的情况下历史数据不会丢失。
- 尝试修复了docker重启后阿里云盘挂载进webdav无显示的bug。

## [v2.6.1] - 2024-01-11
- 修复了历史记录中未显示DDNS Webhook的bug。
- 将DDNS Webhook和全局Webhook的历史记录分开。
- 修复了禁用STUN模块后再启用时规则列表不显示的bug。
- STUN功能增加了指定UPnP网关参数。
- 将STUN Webhook和全局Webhook的历史记录分开。
- 修复了调用OpenAPI时崩溃的bug。
- 在DDNS和ACME服务商中添加了FreeMyIP。

## [v2.6.0] - 2024-01-09
- 优化了ddns模块，重构了底层代码，提升了对接dns托管商的效率。
- DDNS、ACME 模块 同时支持以下dns托管商：阿里云，百度云，华为云，京东云，腾讯云，Cloudflare，DNSPod，Dynv6，GoDaddy，Name.com，Porkbun。
- acme模块新增了HTTP验证方式。
- STUN 模块 增加了指定UPnP网关地址的参数设置 。
- 修复了其他已知的bug。
- 更新了Filebrowser版本至2.27.0。

## [v2.5.3] - 2023-12-13
- **STUN穿透**
  - 强制使用 TCP4 协议进行 stun 保活。
  - 新增了对 UPnP 的支持。
  - 支持在禁用内置转发时 自定义 UPnP/NAT-PMP 内部端口。
- **存储**
  - 修复已知的 bug。
  - 优化阿里云盘文件批量重命名速度。
- **全局DNS设置**
  - 新增备用DNS2。
  - 保存配置时不再检测dns可用性。

## [v2.5.2] - 2023-12-02
- 修复了winfsp复制大文件后，文件目录列表显示文件大小为0的 bug。
- 修复了当可用安全证书为空时，导致启用 HTTPS 的 Lucky 启动后自动退出的 bug。
- 修复了存储管理中本地存储路径启动时因路径无效而无显示的问题。
- 修复了 文件服务的 readme.md 文件内容没有显示在页面上。
- 对文件服务前端页面进行了优化，以适配暗黑主题。

## [v2.5.1] - 2023-11-30
- **Winfsp**
  - 修复了导致由于文件名前后有空格而无法正确修改文件/文件夹名的bug。
  - 修复了多层文件夹无法一次性删除的bug。
  - 改进了文件夹文件列表信息的缓存策略。
  - 挂载的阿里云盘显示真实容量。
- **Web服务模块**
  - 新增了一个选项，允许在 Web 服务中限制最低的 TLS（传输层安全）版本，且新建规则默认的最低版本是 TLS 1.2。
  - 在 Web 服务规则编辑中，新增了批量修改前端域名的功能，方便批量操作。
- **STUN内网穿透**
  - 增加公网地址变化时的脚本触发设置。
- **网络唤醒模块**
  - 修复优化已经问题。
- 解决了设置 IPv6类型 DNS 失败的 bug。

## [v2.5.0] - 2023-11-21
- **filebrowser**
  - 修复了存储模块已知的 bug，现在可以愉快地使用 filebrowser 管理阿里云盘。
  - 新增登录令牌有效期参数设置。
- **Web 文件服务**
  - 修复了跨域和短连接设置无效的问题。
- **Lucky**
  - 新增登录令牌有效期设置参数和最大连续登录错误次数限制，提高账户安全性。
- 增加定时 DNS 可用性检测，新增 自定义DNS 和备用 DNS 设置，提供更稳定的网络连接。
- 其他已知 bug 修复。

## [v2.4.8] - 2023-11-13
- 修复存储模块中的一个问题，该问题导致在多目录设置下无法访问目录下的文件。
- 修复了 RaiDrive 挂载 Lucky WebDAV 后无法写入阿里云盘的 bug。
- 优化了 FileBrowser，在批量上传文件到阿里云盘驱动时的速度。
- 对存储模块进行了底层优化和修复已知的 bug。

## [v2.4.7] - 2023-11-08
- 修复反向代理lucky WebDAV无法修改文件名问题。
- windows挂载分区:优化阿里云盘视频打开缓慢问题。
- 修复无网络状态下启动lucky时阿里云盘代码引发的奔溃问题。
- 升级 filebrowser 至 2.26.0版本。
- 修复存储管理中 webdav 自定义证书开关无效问题,确保自签证书的 webdav 正常连接。

## [v2.4.6] - 2023-11-01
- **新增功能**
  - WebDAV 模块现在支持用户级前端显示设置。默认情况下，文件服务将显示在前端界面中。
- **Bug 修复**
  - 修复了阿里云盘授权过程中未获取写权限的 bug。如果您之前遇到写入失败的情况，请重新登录并进行授权。
  - 修复了WebDAV模块 已知的 bug。

## [v2.4.5] - 2023-10-30
- 修复阿里云盘某些情况下写文件失败的bug。

## [v2.4.4] - 2023-10-29
- 修复了已知的存储读写 bug，提升了系统的稳定性和性能。
- 在 acme 证书功能中，新增了保存中间证书的选项，提供更全面的证书信息。
- 在 acme 证书申请功能中，增加了使用 IPv4 通道开关，以便用户根据需要进行灵活配置。
- 优化了 Filebrowser 的适配，现在可以进行 WebDAV 存储的写操作，并对阿里云盘存储进行了写文件适配。这意味着用户可以方便地在 Filebrowser 中对阿里云盘存储进行文件的上传和管理操作。无论是上传文件还是对已有文件进行修改、删除等操作，用户都可以通过 Filebrowser 进行灵活的操作，并享受到更便捷的文件管理体验。
- 在反代 WebDAV 后端时，解决了个别 WebDAV 客户端无法修改文件名的问题。
- 修复了 SSL 证书禁用后仍会自动续签的 bug，确保在禁用 SSL ACME 证书后不会进行自动续签。

## [v2.4.1] - 2023-10-19
- 修复了存储写文件错误的BUG。
- 优化了DDNS、Web服务和ACME证书处理和显示中文域名。

## [v2.4.0] - 2023-10-18
- 修复已知BUG。
- 存储管理新增阿里云盘支持。

## [v2.3.5] - 2023-09-22
- **windows版**
  - WinFSP对接模块优化了缓存策略，解决了无法播放TS视频文件的问题。
- **SSL证书**
  - 新增了更多可选参数，以便更灵活地进行证书申请。
- **Web反代**
  - 增加了"万事大吉"开关，能够自动添加常用反代header。
- **大吉内置FileBrowser**
  - 更新至版本2.25.0。

## [v2.3.1] - 2023-08-27
- 优化 WebDav 存储读取性能，提升双重 WebDav 存储挂载的读取速度。
- 在 Windows 版本中新增了系统托盘图标，方便用户一键设置或取消开机启动 Lucky。
- 修复了在某些环境或软件下存储别名显示不正确的问题。

## [v2.3.0] - 2023-08-25
- **新增功能**
  - 网络存储分类下新增存储管理模块，支持：
    - 将WebDAV存储挂载到Lucky的Web服务-文件服务模块、FTP模块、WebDAV模块和FileBrowser模块。
- **改进和优化**
  - 在Windows版中，现在可以将WebDAV存储挂载为网络位置或本地磁盘。请注意，此功能需要先安装WinFsp。
- **Bug修复**
  - 修复了一些已知问题，提升了软件的稳定性和性能。

## [v2.2.4] - 2023-08-06
- 修复lucky 外网访问限制开关无效。
- 修复 ftp , webdav，filebrowser模块 路径|read只读模式 识别错误。

## [v2.2.3] - 2023-08-05
- 修复 FileBrowser 在挂载多个目录时修改文件名出错的问题。
- 修复 FileBrowser 在挂载多个目录时复制文件出错的问题。
- 修复在旧版 RaiDrive 下，WebDAV 挂载多个分区根目录时文件夹名显示异常的 bug。
- 修复 FileBrowser 在挂载多个目录时分享文件异常的问题。
- FileBrowser 的后台现在支持设置用户目录范围为多个目录，多个目录之间使用英文逗号（,）分割。

## [v2.2.2] - 2023-08-05
- 修正了文件服务在显示软连接目录时的识别问题。
- FileBrowser 现在支持将多个目录/文件设置为根目录。

## [v2.2.1] - 2023-08-03
- **acme优化**
  - 消除泛域名CNAME记录对证书申请的影响。
  - 注意：AdGuardHome 由于DNS缓存会对证书申请造成影响。
- **FTP模块**
  - 支持软连接识别。
- **FTP/WebDAV模块**
  - 增加了同时挂载目录/文件的支持。文件会显示在根目录下。
- 修复了FTP和WebDAV模块已知的bug。
- **Web服务**
  - 新增静态文件服务支持。可用作静态网页服务器。前端支持视频/音频在线播放。支持自动展示readme.md文件内容。
- 修复了恢复配置时没有恢复基础模块配置的bug。

## [v2.1.3] - 2023-07-23
- **安全模块**
  - 新增了证书映射功能，可以将证书同步复制到指定路径。支持证书内容变化后触发自定义脚本。
- **ACME**
  - 增加了代理服务器设置。
- 支持编辑和修改证书。
- **Web 服务**
  - 反向代理已移除覆盖有返回内容的错误页面的机制。

## [v2.1.2] - 2023-07-17
- 优化acme模块，模块占用体积减少超过1M,不再发布小桔版本。
- ddns模块和acme模块对接dynv6。

## [v2.1.1] - 2023-07-11
- 修复已知BUG。
- 新增FTP服务模块。

## [v2.0.4] - 2023-07-08
- 修复v2.0.1 在windows环境以及docker环境下各模块服务端口显示占用的bug。
- Web服务的反向代理,当403状态码返回的内容是html格式的时候不再替换页面内容 （解决反代openwrt后台无法显示页面的bug）。

## [v2.0.1] - 2023-07-05
- 进行了前后端架构的重构和优化。
- 解决了在Linux systemd环境下无法通过lucky后台升级版本的问题。
- 修改了acme预设的dns服务器，提高了申请证书的成功概率。
- 将各功能模块的配置文件进行了分离，现在支持恢复配置文件，配置恢复同时支持1.X版本配置、lkcf单模块配置以及全局配置zip。请注意不要修改单模块lkcf配置的文件名。
- 初始配置现在默认开启了外网访问。
- Web服务反向代理现在新增了404和403页面提示，以应对不匹配规则的情况。
- 修复了因为ssl证书下载后因为文件名带有*号而在Windows管理器中无法显示的bug。
- 反向代理新增了追加客户端协议头到指定Header的功能。
- STUN穿透模块增加全局Stun服务器设置。
- WebDAV单用户支持挂载多目录。
- 反向代理后端地址支持指定路径。
- 反向代理 unraid不再需要填写/login。
- 反向代理增加使用请求Host开关。
- 反向代理支持自定义允许跨域的源和方法。  